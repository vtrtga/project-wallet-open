(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),l=a(19),o=a.n(l),i=a(23),u=(a(42),a(13)),s=a(31),m=a(32),d=a(8),p="SUBMIT_LOGIN_FORM",h="GET_PRICE",b="SAVE_CURRENCIES",f={email:""},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;return t.type===p?Object(d.a)(Object(d.a)({},e),{},{email:t.email}):e},E=a(33),O={currencies:[],expenses:[],editor:!1,idToEdit:0},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(d.a)(Object(d.a)({},e),{},{currencies:t.currencies});case h:return Object(d.a)(Object(d.a)({},e),{},{expenses:[].concat(Object(E.a)(e.expenses),[Object(d.a)({},t.state)])});default:return e}},g=Object(u.combineReducers)({user:v,wallet:j}),y=Object(u.createStore)(g,Object(s.composeWithDevTools)(Object(u.applyMiddleware)(m.a))),w=(a(43),a(44),a(2)),C=a(16),x=a(9),k=a(10),S=a(11),N=a(12),D=a(14),R=a(18);var F=function(e){Object(S.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",isButtonDisabled:!0},e.buttonDisableOrEnable=function(){var t=e.state,a=t.email,n=t.password;return a.match(/\w+@[a-z]+.com/g)&&n.length>=6?e.setState({isButtonDisabled:!1}):e.setState({isButtonDisabled:!0})},e.handleOnChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(C.a)({},r,n),(function(){return e.buttonDisableOrEnable()}))},e.handleSubmit=function(){var t=e.props,a=t.history;(0,t.dispatchEmail)(e.state.email),a.push("/carteira")},e}return Object(k.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isButtonDisabled,a=e.password,n=e.email;return r.a.createElement("div",{className:"area-login"},r.a.createElement("div",{className:"Login"},r.a.createElement("h1",null,"Login"),r.a.createElement("label",{htmlFor:"email"},"Email",r.a.createElement("input",{name:"email",type:"email",onChange:this.handleOnChange,"data-testid":"email-input",value:n})),r.a.createElement("label",{htmlFor:"password"},"Senha",r.a.createElement("input",{value:a,name:"password",type:"password",onChange:this.handleOnChange,"data-testid":"password-input"})),r.a.createElement("button",{onClick:this.handleSubmit,disabled:t,type:"button"},"Entrar")))}}]),a}(r.a.Component),H=Object(c.b)(null,(function(e){return{dispatchEmail:function(t){return e(function(e){return{type:p,email:e}}(t))}}}))(F),T=function(e){Object(S.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={id:0,value:0,description:"",method:"Dinheiro",currency:"USD",tag:"Alimenta\xe7\xe3o"},e.onHandleChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(C.a)({},r,n))},e.onHandleClick=function(){var t=e.state,a=t.description,n=t.value,r=t.method,c=t.currency,l=t.tag,o=t.id,i=e.props.toGlobalState,u={id:o,value:n,currency:c,method:r,tag:l,description:a};e.setState((function(e){return{id:e.id+1,value:0}})),i(u)},e}return Object(k.a)(a,[{key:"render",value:function(){var e=this.state,t=e.description,a=e.value,n=e.method,c=e.currency,l=e.tag,o=this.props.currencies;return r.a.createElement("form",{className:"Form"},r.a.createElement("input",{placeholder:"Descri\xe7\xe3o",value:t,onChange:this.onHandleChange,name:"description","data-testid":"description-input",type:"text"}),r.a.createElement("input",{value:a,onChange:this.onHandleChange,placeholder:"Valor",name:"value","data-testid":"value-input",type:"number"}),r.a.createElement("label",{htmlFor:"method"},r.a.createElement("select",{name:"method",id:"method",value:n,"data-testid":"method-input",onChange:this.onHandleChange},["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"].map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("label",{htmlFor:"moeda"},"Moeda",r.a.createElement("select",{value:c,onChange:this.onHandleChange,id:"moeda",name:"currency"},o.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("label",{htmlFor:"category"},"Categoria",r.a.createElement("select",{value:l,onChange:this.onHandleChange,name:"tag",id:"category","data-testid":"tag-input"},["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"].map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("button",{onClick:this.onHandleClick,type:"button"},"Adicionar despesa"))}}]),a}(n.Component),B=Object(c.b)((function(e){return{currencies:e.wallet.currencies,expenses:e.wallet.expenses}}),(function(e){return{toGlobalState:function(t){return e((a=t,function(){var e=Object(R.a)(Object(D.a)().mark((function e(t){var n,r;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,a.exchangeRates=Object(d.a)({},r),t({type:h,state:a});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var a}}}))(T),M=function(e){Object(S.a)(a,e);var t=Object(N.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){var e=this.props,t=e.email,a=e.expenses,n=a.reduce((function(e,t){var a=t.exchangeRates[t.currency].ask;return e+t.value*a}),0);return r.a.createElement("header",{className:"Header"},r.a.createElement("span",{className:"email","data-testid":"email-field"},t),r.a.createElement("strong",{className:"total-field","data-testid":"total-field"},0===a.length?0:n.toFixed(2)),r.a.createElement("strong",{className:"currency","data-testid":"header-currency-field"},"BRL"),r.a.createElement(B,null))}}]),a}(n.Component),A=Object(c.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}),null)(M),I=function(e){Object(S.a)(a,e);var t=Object(N.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){var e=this.props.expenses;return r.a.createElement("table",{className:"Table"},r.a.createElement("tr",{className:"params"},["Descri\xe7\xe3o","Tag","M\xe9todo de pagamento","Valor","Moeda","C\xe2mbio utilizado","Valor convertido","Moeda de convers\xe3o","Editar/Excluir"].map((function(e){return r.a.createElement("th",{key:e},e)}))),e.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.tag),r.a.createElement("td",null,e.method),r.a.createElement("td",null,Number(e.value).toFixed(2)),r.a.createElement("td",null,e.exchangeRates[e.currency].name.split("/")[0]),r.a.createElement("td",null,Number(e.exchangeRates[e.currency].ask).toFixed(2)),r.a.createElement("td",null,Number(e.exchangeRates[e.currency].ask*e.value).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{type:"button"},"Editar"),r.a.createElement("button",{type:"button"},"Excluir")))})))}}]),a}(n.Component),L=Object(c.b)((function(e){return{expenses:e.wallet.expenses}}))(I),G=function(e){Object(S.a)(a,e);var t=Object(N.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=Object(R.a)(Object(D.a)().mark((function e(){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,this.props.thunkCurrencies)();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"Wallet"},r.a.createElement(A,null),r.a.createElement(L,null))}}]),a}(r.a.Component),U=Object(c.b)(null,(function(e){return{thunkCurrencies:function(){return e(function(){var e=Object(R.a)(Object(D.a)().mark((function e(t){var a,n,r;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,r=Object.keys(n).filter((function(e){return"USDT"!==e})),t({type:b,currencies:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(G);var V=function(){return r.a.createElement(w.c,null,r.a.createElement(w.a,{exact:!0,path:"/",component:H}),r.a.createElement(w.a,{path:"/carteira",component:U}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,null,r.a.createElement(c.a,{store:y},r.a.createElement(V,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.5e99671c.chunk.js.map